<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <link rel="stylesheet" type="text/css" href="mirador-2.6.1/css/mirador-combined.css"></link>
  <title>Mirador Viewer</title>
  <style type="text/css">
    body { padding: 0; margin: 0; overflow: hidden;}
    #viewer {width: 100%; height: 100%; position: fixed; }
  </style>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous"></link>
</head>
<body>
  <div id="viewer"></div>

  <script src="mirador-2.6.1/mirador.js"></script>
  <script type="text/javascript">

    $(function() {
      var configuration = {
        "id": "viewer",
        "layout": "1x1",
        "buildPath": "mirador-2.6.1/",
		  "mainMenuSettings" :
		  {


		  		"show": true,
		  		"buttons" : {"bookmark" : false, "layout" : true},
		  		"userLogo": {"label": "IIIF", "attributes": {"href": "http://iiif.io"}},
                "userButtons": [
                    {
                        "label": "Stats",
                        "iconClass": "fa fa-chart-pie",
                        "attributes": { "href": "stats/index.xhtml"}
                    },
                    {
                        "label": "Load Annotation List",
                        "iconClass": "fa fa-upload",
                        "attributes": {"href": "populate.xhtml"}
                    },
                    {
                        "label": "Index Manifest",
                        "iconClass": "fab fa-searchengin",
                        "attributes": { "href": "uploadManifest.xhtml"}
                    },
                    {
                        "label": "View Annotations",
                        "iconClass": "fas fa-file-download",
                        "attributes": { "href": "manifests.xhtml"}
                    }
                ]
		  },
		  'showAddFromURLBox' : true,
		  "saveSession": false,
        "data": [
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b01", "location": "American Numismatic Society"},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b02", "location": "American Numismatic Society"},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b03", "location": "American Numismatic Society"},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b04", "location": "American Numismatic Society"},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b05", "location": 'American Numismatic Society'},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b06", "location": 'American Numismatic Society'},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b07", "location": "American Numismatic Society"},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b08", "location": "American Numismatic Society"},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b09", "location": "American Numismatic Society"},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b10", "location": "American Numismatic Society"},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b11", "location": "American Numismatic Society"},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b12", "location": "American Numismatic Society"},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b13", "location": "American Numismatic Society"},
        { "manifestUri": "http://numismatics.org/archives/manifest/schaefer.rrdp.b14", "location": 'American Numismatic Society'}
        ],
        "windowObjects": [],
		  annotationEndpoint: {
				name: 'Simple Annotation Store Endpoint',
				module: 'SimpleASEndpoint',
				options: {
					url: 'annotation',
				}
		  },
		  "windowSettings": {
    		  "canvasControls": {
        		  "annotations": {
            		  "annotationLayer": true,
            		  "annotationState": "on"
        		  },        		  
        		  "imageManipulation": {
        		      "manipulationLayer": false
        		  }
    		  }
		  },
		  "sidePanel": false
      };
        // From Getty code: http://www.getty.edu/art/collection/static/viewers/mirador/?manifest=https://data.getty.edu/museum/api/iiif/1895/manifest.json
        function getURLParameter(param) {
            if(typeof(param) == "string" && param.length > 0) {
                if(typeof(window.location.search) == "string" && window.location.search.length > 0) {
                    var _results = new RegExp(param + "=([^&]*)", "i").exec(window.location.search);
                    if(typeof(_results) == "object" && _results !== null && typeof(_results.length) == "number" && _results.length > 0 && _results[1]) {
                        if(typeof(_results[1]) == "string" && _results[1].length > 0) {
                            return unescape(_results[1]);
                        }
                    }
                }
            }
            return null;
        }

        var manifest = getURLParameter("iiif-content");
        if(typeof(manifest) == "string" && manifest.length > 0) {
            
            configuration.data = [{
                "manifestUri": manifest,
            }];
            configuration.windowObjects = [{
                "loadedManifest": manifest,
            }];
        }

        Mirador(configuration);

    });

      </script>
</body>
</html>
